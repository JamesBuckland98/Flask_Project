{%extends 'ParentTemplate.html'%}

{% block title%}
{{ super() }}
Analytics
{%endblock%}

{% block headBlock%}
{{ super() }}
<!-- WRU Event Form -->
Admin Section
<link href="../static/css/addEvent.css" rel="stylesheet">
{%endblock%}


{% block contentBlock%}
{{ super() }}
<nav class="navbar navbar-default">
  <div class="container-fluid">
    <ul class="nav navbar-nav">
      <li class="active"><a href="/Upload">Form</a></li>
      <li><a href="/EmployeeSearch">Employee Search</a></li>
      <li><a href="/AdminSearch">Game Search</a></li>
      <li><a href="/AddEvent">Create an event</a></li>
      <li><a href="/Analytics">Analytics</a></li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
      <li><a href="/Login">Log out</a></li>
    </ul>
  </div>
</nav>

<h1>Analytics</h1>
<form class="myForm" action="/Analytics" method="post">
  <input type="date" name="date"><br>
  <button type="submit" class="btn btn-primary btn-lg"> Search </button>
  <canvas id="myChart" width="400" height="400"></canvas>
</form>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.bundle.js"></script>
<!-- code adapted from http://www.chartjs.org/docs/latest/ -->
<script>
var ctx = document.getElementById("myChart").getContext('2d');
ctx.canvas.width = 200;
ctx.canvas.height = 200;
var myChart = new Chart(ctx, {
    type: 'pie',
    data: {
        labels: ["Males", "Females"],
        datasets: [{
            label: 'Number of attendance',
            data: [{{males}},{{females}}],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
            ],
            borderColor: [
                'rgba(255,99,132,1)',
                'rgba(54, 162, 235, 1)',
            ],
            borderWidth: 1
        }]
    },
    options: {
      // responsive: true,
      maintainAspectRatio: true,
    }
});
</script>
{%endblock%}
